<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!-- Website created by Martin Lettner (www.martinlettner.info) -->
	<meta name="description" content="Liferea, a simple and free desktop news aggregator for Unix and Linux"/>
	<meta name="keywords" content="Liferea gnome gtk desktop rss atom aggregator feed reader" />

	<title>Liferea - Documentation - Scripting</title>

	<meta http-equiv="Content-type" content="text/html; charset=utf-8" />

	<link rel="stylesheet" href="master.css" type="text/css" media="all" title="Default Style" charset="utf-8" />

	<link rel="alternate" type="application/rss+xml" title="Liferea News" href="http://sourceforge.net/export/rss2_projnews.php?group_id=87005&amp;rss_fulltext=1"></link>

	<link rel="shortcut icon" href="favicon.ico" type="image/vnd.microsoft.icon">
	<link rel="icon" href="favicon.ico" type="image/vnd.microsoft.icon">

</head>
<body id="documentation">

	<a name="top">&nbsp;</a>

	<div id="site">

		<div id="head">
			<img src="liferea.png" alt="Liferea Logo" />
			<h1>LIFEREA</h1>
			<p>A simple and free Gtk desktop news aggregator for Unix and Linux</p>
		</div>

		<div id="menu">
			<a href="index.htm"><span>Overview</span></a>
			<a href="faq.htm"><span>FAQ</span></a>
			<a href="install.htm"><span>Install</span></a>
			<a href="docs.htm" class="active"><span>Documentation</span></a>
			<a href="http://lzone.de/liferea/blog"><span>Blog</span></a>
		</div>

		<div id="body"><div class="padding">

			<div id="sidebar"><div class="padding">
				<h3>See also</h3>
				<ul>
					<li><a href="help140/topics_en.html">Help Topics</a></li>
					<li><a href="scraping.htm">Website Scraping</a></li>
					<li><a href="dbus.htm">Controlling Liferea via DBUS</a></li>
				</ul>
				<h3>More Information</h3>
				<ul>
					<li>#liferea at irc.freenode.net</li>
					<li><a href="http://sourceforge.net/projects/liferea/">Sourceforge Project Page</a></li>
					<li><a href="http://liferea.blogspot.com/">Liferea Blog</a></li>
					<li><span class="vcard"><a class="email" href="mailto:liferea-devel@lists.sf.net"><span class="fn org">Liferea Mailing List</span></a></span></li>
				</ul>
			</div></div>

			<div id="content">

				<h3>Scripting Liferea</h3>

				<p><b>NOTE: Scripting support will be discontinued starting with 1.7.5!</b></p>

				<p>Liferea allows you two customize its runtime behaviour with the
				<a href="http://www.lua.org">LUA</a> scripting language. There is a set of scripting hooks for which
				you can register one or more scripts. To create, edit or remove scripts
				open the "Script Manager" dialog from the "Program" menu. In the dialog
				select a script hook with the option menu at the top and add/remove 
				scripts to the hook. To edit a script select it in the script list and
				its code will be loaded into the text editor widget.</p>

				<p>All scripts are saved in <tt>~/.liferea_1.4/cache/scripts</tt>. So you can
				edit them directly with your favourite editor. To test run a script select
				it in the script list, set up Liferea for your test scenario (e.g. select
				an item) and click the "Run Now" button.</p>

				<h4>Example Scripts</h4>

				<p><strong>Mark-All-Read</strong>&nbsp;&nbsp;<span class="italic">feed-unselect</span><br />
				Modifies the behaviour of Liferea so that 
				on each feed selection change all items will be marked as read.
				The default behaviour is to do this only in 2-pane mode.</p>
				<pre class='code'>
node = liferea.feedlist_get_selected()
if node ~= nil then
	liferea.node_mark_all_read(node)
end</pre>

				<p><strong>Open-Folder-On-Select</strong>&nbsp;&nbsp;<span class="italic">feed-select</span><br />
				Modifies the behaviour of Liferea
				so that on each folder selection the folder will be expanded automatically.
				The default behaviour is not to expand the folder.</p>
				<pre class='code'>
node = liferea.feedlist_get_selected()
if node ~= nil then
	if node.type == 1 then
		liferea.ui_node_set_expanded(node, 1)
	end
end</pre>
				<p>An analog script can be written for the <span class="italic">feed-unselect</span> hook to close folders when unselecting.</p>

				<h4>Generated Bindings</h4>

				<p>
				Currently only part of the internal interfaces is accessible from LUA. You can use all functions defined in 
				<a href="http://liferea.svn.sourceforge.net/viewvc/liferea/trunk/liferea/src/item.h?view=markup">item.h</a>,
				<a href="http://liferea.svn.sourceforge.net/viewvc/liferea/trunk/liferea/src/node.h?view=markup">node.h</a>,
				<a href="http://liferea.svn.sourceforge.net/viewvc/liferea/trunk/liferea/src/itemlist.h?view=markup">itemlist.h</a>,
				<a href="http://liferea.svn.sourceforge.net/viewvc/liferea/trunk/liferea/src/feedlist.h?view=markup">feedlist.h</a>,
				<a href="http://liferea.svn.sourceforge.net/viewvc/liferea/trunk/liferea/src/ui/ui_node.h?view=markup">ui_node.h</a>,
				<a href="http://liferea.svn.sourceforge.net/viewvc/liferea/trunk/liferea/src/ui/ui_itemlist.h?view=markup">ui_itemlist.h</a>,
				<a href="http://liferea.svn.sourceforge.net/viewvc/liferea/trunk/liferea/src/ui/ui_feedlist.h?view=markup">ui_feedlist.h</a> and 
				<a href="http://liferea.svn.sourceforge.net/viewvc/liferea/trunk/liferea/src/ui/ui_mainwindow.h?view=markup">ui_mainwindow.h</a>. 
				</p>
				<p>
				For LUA itself all language modules are enabled. You can escape to the operation system with the functions of the OS module. Example: <tt>os.execute("/bin/ls")</tt>.
				</p>

			</div>

			<div id="totop"><a href="#top">&uarr; <span>Scroll to top</span> &uarr;</a></div>

		</div></div>

		<div id="foot">
			<p class="finish">
				<a href="index.htm">Overview</a>
				<a href="faq.htm">FAQ</a>
				<a href="install.htm">Install</a>
				<a href="docs.htm">Documentation</a>
				<a href="reviews.htm">Reviews</a>
			</p>
			<p class="end">
				<a href="http://sourceforge.net" class="sourceforge">Liferea is powered by Sourceforge.net</a>
			</p>
		</div>

	</div>

</body>
</html>

